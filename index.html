<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Hunter v1 - Neural Interface</title>
    <link href="https://fonts.googleapis.com/css2?family=Oxanium:wght@300;500;700;800&family=Orbitron:wght@400;700;900&family=JetBrains+Mono:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --solo-blue: #3b82f6; --solo-cyan: #00e5ff; --panel-bg: #07090e;
            --card-bg: #0d1017; --system-red: #ff3d3d; --system-green: #00ff88;
            --recovery-gold: #ffcc00; --ai-primary: #3b82f6; --text-muted: #94a3b8;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body, html { width: 100%; height: 100%; background: #0a0a0f; font-family: 'Inter', sans-serif; color: #fff; overflow: hidden; display: flex; align-items: center; justify-content: center; }
        .hidden { display: none !important; }

        /* --- FENETRE DE CONNEXION (Hunter v1 Edition) --- */
        .login-container { z-index: 1000; width: 100%; max-width: 440px; padding: 20px; transition: opacity 0.5s ease; }
        .login-card {
            background: rgba(13, 16, 23, 0.9); backdrop-filter: blur(25px);
            padding: 50px 40px; border-radius: 32px; border: 1px solid rgba(255, 255, 255, 0.08);
            text-align: center; position: relative; box-shadow: 0 40px 100px rgba(0, 0, 0, 0.6);
        }
        
        .ai-logo-selector { 
            width: 70px; height: 70px; background: rgba(59, 130, 246, 0.1); 
            border-radius: 20px; display: flex; align-items: center; justify-content: center; 
            margin: 0 auto 30px; color: var(--ai-primary); border: 1px solid rgba(59, 130, 246, 0.2);
            cursor: pointer; overflow: hidden; position: relative;
        }
        .ai-logo-selector img { width: 100%; height: 100%; object-fit: cover; }

        .login-header h2 { font-family: 'Orbitron'; font-size: 1.7rem; margin-bottom: 10px; letter-spacing: 1px; }
        .login-header p { color: var(--text-muted); font-size: 14px; margin-bottom: 40px; }
        
        .input-group { text-align: left; margin-bottom: 25px; }
        .input-group label { display: block; font-size: 11px; font-weight: 700; color: var(--text-muted); margin-bottom: 10px; text-transform: uppercase; letter-spacing: 1px; }
        .neural-input { width: 100%; background: rgba(15, 17, 26, 0.8); border: 1px solid rgba(255, 255, 255, 0.08); padding: 16px; border-radius: 14px; color: #fff; outline: none; transition: 0.3s; }
        
        .remember-container { display: flex; align-items: center; gap: 10px; margin-bottom: 30px; cursor: pointer; color: var(--text-muted); font-size: 13px; }

        .btn-init { width: 100%; background: linear-gradient(135deg, #3b82f6, #8b5cf6); color: white; border: none; padding: 16px; border-radius: 14px; font-weight: 700; cursor: pointer; font-family: 'Orbitron'; transition: 0.3s; }
        .btn-init:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(59, 130, 246, 0.4); }

        /* --- SYNC LOADER --- */
        #sync-loader { text-align: center; z-index: 2000; display: none; }
        .loader-bar-container { width: 300px; height: 4px; background: rgba(255,255,255,0.05); border-radius: 10px; margin: 20px auto; overflow: hidden; position: relative; }
        .loader-fill { height: 100%; width: 0%; background: var(--solo-cyan); box-shadow: 0 0 15px var(--solo-cyan); transition: width 0.1s linear; }
        .sync-text { font-family: 'JetBrains Mono'; font-size: 10px; color: var(--solo-cyan); text-transform: uppercase; letter-spacing: 2px; }

        /* --- HUD ORIGINAL --- */
        .hud-wrapper { position: relative; display: flex; align-items: center; z-index: 100; animation: hudPop 0.6s cubic-bezier(0.17, 0.67, 0.83, 0.67); }
        @keyframes hudPop { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
        
        #hud-container {
            width: 375px; height: 812px; background: var(--panel-bg); border-radius: 40px;
            padding: 25px; position: relative; border: 1px solid rgba(255, 255, 255, 0.08);
            display: flex; flex-direction: column;
        }

        .system-side-btn {
            position: absolute; right: -30px; top: 50%; transform: translateY(-50%);
            background: var(--solo-blue); color: white; padding: 20px 5px; border-radius: 0 8px 8px 0;
            font-family: 'Orbitron'; font-size: 10px; font-weight: 900; writing-mode: vertical-rl;
            text-orientation: uppercase; cursor: pointer; border: 1px solid var(--solo-cyan); border-left: none;
        }

        .stat-card { background: var(--card-bg); padding: 10px; border-radius: 8px; border: 1px solid rgba(255,255,255,0.03); }
        .stat-label { font-size: 7px; color: var(--solo-blue); font-family: 'Orbitron'; display: block; }
        .stat-value { font-family: 'JetBrains Mono'; font-size: 14px; color: #fff; background: none; border: none; width: 100%; outline: none; }
        
        .mission-box { background: rgba(255, 255, 255, 0.02); border-left: 3px solid #1a1d26; padding: 15px; border-radius: 10px; margin-bottom: 10px; cursor: pointer; }
        .mission-box.active { border-left-color: var(--solo-cyan); background: rgba(0, 229, 255, 0.03); }
        .mission-box.completed { border-left-color: var(--system-green); opacity: 0.4; }

        .recovery-widget { border: 1.5px solid #333; padding: 5px; border-radius: 4px; text-align: center; min-width: 80px; }
        .recovery-active { border-color: var(--recovery-gold) !important; color: var(--recovery-gold); }
    </style>
</head>
<body>

    <div id="login-screen" class="login-container">
        <div class="login-card">
            <div class="ai-logo-selector" onclick="document.getElementById('avatar-input').click()">
                <img id="login-preview" src="https://cdn-icons-png.flaticon.com/512/616/616408.png">
            </div>
            <input type="file" id="avatar-input" class="hidden" accept="image/*" onchange="previewLoginAvatar(this)">
            
            <div class="login-header">
                <h2>Neural Access</h2>
                <p>Hunter v1 Professional Suite</p>
            </div>
            
            <div class="input-group">
                <label>Identifier</label>
                <input type="text" id="hunter-id" class="neural-input" placeholder="Hunter Name...">
            </div>
            
            <div class="input-group">
                <label>Passcode</label>
                <input type="password" id="hunter-pass" class="neural-input" placeholder="••••••••">
            </div>

            <label class="remember-container">
                <input type="checkbox" id="remember-me"> Se souvenir de moi
            </label>
            
            <button onclick="startSync()" class="btn-init">Initialize Hunter Protocol</button>
            
            <div style="margin: 25px 0; font-size: 9px; color: #333; letter-spacing: 3px; font-weight: 800;">SYSTÈME HUNTER V1.0</div>
        </div>
    </div>

    <div id="sync-loader">
        <div class="sync-text" id="sync-status">Initialisation Hunter v1...</div>
        <div class="loader-bar-container">
            <div id="loader-fill" class="loader-fill"></div>
        </div>
    </div>

    <div id="main-hud" class="hud-wrapper hidden">
        <div id="hud-container">
            <div style="display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:20px;">
                <div style="display:flex; gap:12px; align-items:center;">
                    <div style="width:70px; height:70px; border-radius:50%; border:2px solid var(--solo-cyan); overflow:hidden; background:#111;">
                        <img id="avatar-hud" src="" style="width:100%; height:100%; object-fit:cover;">
                    </div>
                    <div>
                        <div id="display-name" style="font-family:'Orbitron'; font-size:18px; font-weight:900;">HUNTER</div>
                        <div style="color:var(--system-red); font-family:'Orbitron'; font-size:10px; border:1px solid var(--system-red); padding:2px 5px; display:inline-block; margin-top:5px;">RANG E</div>
                    </div>
                </div>
                <div style="display:flex; flex-direction:column; align-items:center;">
                    <div onclick="location.reload()" style="color:var(--system-red); cursor:pointer; font-size:22px; margin-bottom:5px;">⏻</div>
                    <div id="rec-widget" class="recovery-widget">
                        <div style="font-size:7px; color:var(--recovery-gold); font-family:'Orbitron';">RECOVERY</div>
                        <div id="rec-timer" style="font-family:'JetBrains Mono'; font-size:12px;">00:00</div>
                    </div>
                </div>
            </div>

            <div style="display:grid; grid-template-columns: 1fr 1fr; gap:8px;">
                <div class="stat-card"><span class="stat-label">GENRE</span><select id="u-sex" class="stat-value" onchange="save()"><option value="M">♂ MALE</option><option value="F">♀ FEMALE</option></select></div>
                <div class="stat-card"><span class="stat-label">IMC</span><div id="u-imc" class="stat-value">0.0</div></div>
                <div class="stat-card"><span class="stat-label">ÂGE</span><input type="number" id="u-age" class="stat-value" onchange="save()"></div>
                <div class="stat-card"><span class="stat-label">TAILLE (CM)</span><input type="number" id="u-height" class="stat-value" onchange="save()"></div>
                <div class="stat-card" style="grid-column: span 2;"><span class="stat-label">POIDS (KG)</span><input type="number" id="u-weight" class="stat-value" onchange="save()"></div>
            </div>

            <div id="mission-container" style="flex-grow:1; margin-top:20px; overflow-y:auto;"></div>

            <div style="display:flex; justify-content:space-between; align-items:center; margin-top:10px;">
                <div id="main-timer" style="font-family:'JetBrains Mono'; font-size:20px; color:var(--system-red); font-weight:700;">24:00:00</div>
                <button id="btn-accept" class="btn-init" style="width:auto; padding:10px 20px;" onclick="acceptMissions()">ACCEPTER</button>
            </div>
        </div>
        <div class="system-side-btn">SYSTEM</div>
    </div>

    <script>
        const KEY = "HUNTER_V1_STORAGE";
        let currentLvl = 1, completed = 0, isRecovering = false, dailyTimer = null, timeLeft = 86400;

        function previewLoginAvatar(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = (e) => { 
                    document.getElementById('login-preview').src = e.target.result;
                    document.getElementById('avatar-hud').src = e.target.result;
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

        function startSync() {
            const user = document.getElementById('hunter-id').value;
            if(!user) return alert("Nom de Hunter requis");
            document.getElementById('login-screen').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('login-screen').classList.add('hidden');
                document.getElementById('sync-loader').style.display = 'block';
                let progress = 0;
                const fill = document.getElementById('loader-fill');
                const status = document.getElementById('sync-status');
                const messages = ["Link Start...", "DNA Syncing...", "HUD Rendering...", "Access Granted"];
                const interval = setInterval(() => {
                    progress += 4;
                    fill.style.width = progress + '%';
                    if(progress % 25 === 0) status.innerText = messages[Math.floor(progress/26)];
                    if(progress >= 100) {
                        clearInterval(interval);
                        document.getElementById('sync-loader').classList.add('hidden');
                        document.getElementById('main-hud').classList.remove('hidden');
                        document.getElementById('display-name').innerText = user.toUpperCase();
                        load();
                    }
                }, 40);
            }, 500);
        }

        function save() {
            const h = parseFloat(document.getElementById('u-height').value) || 0;
            const w = parseFloat(document.getElementById('u-weight').value) || 0;
            const imcEl = document.getElementById('u-imc');
            if(h > 0) {
                const imc = (w / ((h/100)**2)).toFixed(1);
                imcEl.innerText = imc;
                imcEl.style.color = (imc >= 18.5 && imc <= 25) ? "#00ff88" : "#ff3d3d";
            }
            const data = { lvl: currentLvl, age: document.getElementById('u-age').value, h: h, w: w, sex: document.getElementById('u-sex').value, avatar: document.getElementById('avatar-hud').src, remember: document.getElementById('remember-me').checked };
            localStorage.setItem(KEY, JSON.stringify(data));
        }

        function load() {
            const d = JSON.parse(localStorage.getItem(KEY));
            if(d) {
                currentLvl = d.lvl || 1;
                document.getElementById('u-age').value = d.age || "";
                document.getElementById('u-height').value = d.h || "";
                document.getElementById('u-weight').value = d.w || "";
                document.getElementById('u-sex').value = d.sex || "M";
                document.getElementById('remember-me').checked = d.remember || false;
                if(d.avatar) {
                    document.getElementById('avatar-hud').src = d.avatar;
                    document.getElementById('login-preview').src = d.avatar;
                }
                save();
            }
            initMissions(false);
        }

        function initMissions(reveal) {
            const container = document.getElementById('mission-container');
            container.innerHTML = "";
            const quests = [{t:"Push-ups", r:"30"}, {t:"Squats", r:"40"}, {t:"Plank", r:"1m"}];
            quests.forEach((q) => {
                const div = document.createElement('div');
                div.className = reveal ? "mission-box active" : "mission-box";
                div.innerHTML = `<strong>${reveal ? q.t : "???"}</strong><br><small>${reveal ? q.r+' Reps' : 'Locked'}</small>`;
                div.onclick = () => { if(reveal && !isRecovering) completeQuest(div); };
                container.appendChild(div);
            });
        }

        function acceptMissions() {
            initMissions(true);
            document.getElementById('btn-accept').classList.add('hidden');
            dailyTimer = setInterval(() => {
                timeLeft--;
                let h = Math.floor(timeLeft/3600), m = Math.floor((timeLeft%3600)/60), s = timeLeft%60;
                document.getElementById('main-timer').innerText = `${h.toString().padStart(2,'0')}:${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
            }, 1000);
        }

        function completeQuest(el) {
            if(el.classList.contains('completed')) return;
            el.classList.add('completed');
            completed++;
            if(completed >= 3) {
                alert("HUNTER v1 : Mission Accomplished.");
                currentLvl++; save(); location.reload();
            } else {
                startRecovery();
            }
        }

        function startRecovery() {
            isRecovering = true;
            let s = 30;
            const widget = document.getElementById('rec-widget');
            const boxes = document.querySelectorAll('.mission-box');
            widget.classList.add('recovery-active');
            boxes.forEach(b => { if(!b.classList.contains('completed')) b.classList.add('locked'); });
            const itv = setInterval(() => {
                s--;
                document.getElementById('rec-timer').innerText = `00:${s < 10 ? '0'+s : s}`;
                if(s <= 0) {
                    clearInterval(itv);
                    isRecovering = false;
                    widget.classList.remove('recovery-active');
                    boxes.forEach(b => b.classList.remove('locked'));
                }
            }, 1000);
        }
    </script>
</body>
</html>
